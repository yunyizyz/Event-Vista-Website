{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { debounceTime, distinctUntilChanged, switchMap, tap, finalize, filter } from 'rxjs/operators';\nimport { of } from 'rxjs';\nlet MainFormComponent = class MainFormComponent {\n  keywordselected(keyword) {\n    console.log(keyword);\n  }\n  constructor(http) {\n    this.http = http;\n    this.isLoading = false;\n    this.keywordinput = new FormControl();\n    this.keywordSgt = [];\n    this.minLengthTerm = 2;\n  }\n  ngOnInit() {\n    this.keywordinput.valueChanges.pipe(filter(res => {\n      return res !== null && res.length >= this.minLengthTerm;\n    }), debounceTime(300), distinctUntilChanged(), tap(() => {\n      this.errorMsg = \"\";\n      this.keywordSgt = [];\n      this.isLoading = true;\n    }), switchMap(keyword => {\n      if (keyword && keyword.length > 1) {\n        return this.http.get(`https://app.ticketmaster.com/discovery/v2/suggest?apikey=YTieJwbkIX90aLCrqmBHc7juN1fsGhGM&keyword=${keyword}`).pipe(finalize(() => {\n          this.isLoading = false;\n        }));\n      } else {\n        return of([]);\n      }\n    })).subscribe(response => {\n      this.keywordSgt = response._embedded?.attractions || [];\n    });\n  }\n};\nMainFormComponent = __decorate([Component({\n  selector: 'app-main-form',\n  templateUrl: './main-form.component.html',\n  styleUrls: ['./main-form.component.css']\n})], MainFormComponent);\nexport { MainFormComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}